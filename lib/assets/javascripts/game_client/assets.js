// Generated by CoffeeScript 1.9.2
(function() {
  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Game.Assets = (function() {
    function Assets() {
      this.getSprite = bind(this.getSprite, this);
      this.returnSprite = bind(this.returnSprite, this);
      this.getPawnSprite = bind(this.getPawnSprite, this);
      this.getFaunaSprite = bind(this.getFaunaSprite, this);
      this.getFloraSprite = bind(this.getFloraSprite, this);
      this.getVegetationSprite = bind(this.getVegetationSprite, this);
      this.load = bind(this.load, this);
      var images;
      this.assets = {
        "vegetation_0": "/images/map/0_desert@2x.png",
        "vegetation_1": "/images/map/1_grass@2x.png",
        "vegetation_2": "/images/map/2_grass@2x.png",
        "vegetation_3": "/images/map/3_grass@2x.png",
        "vegetation_5": "/images/map/5_grass@2x.png",
        "vegetation_8": "/images/map/8_forest@2x.png",
        "vegetation_13": "/images/map/13_forest@2x.png",
        "banana_1": "/images/map/banana-1@2x.png",
        "banana_2": "/images/map/banana-2@2x.png",
        "banana_3": "/images/map/banana-3@2x.png",
        "rabbit": "/images/map/rabbit@2x.png",
        "gazelle": "/images/map/gazelle@2x.png",
        "mammoth": "/images/map/meat@2x.png",
        "hyena": "/images/map/hyena@2x.png",
        "leopard": "/images/map/leopard@2x.png",
        "headquarter": "/images/map/Raratonga_Mask.gif",
        "base": "/images/map/caveman.png"
      };
      images = Object.values(this.assets);
      this.pool = new Game.SpritePool(images);
      this.pawns = new Game.PawnPool();
    }

    Assets.prototype.load = function(callback) {
      var loader;
      loader = PIXI.loader;
      Object.each(this.assets, (function(_this) {
        return function(name, image) {
          return loader.add(name, image);
        };
      })(this));
      return loader.load(function(loader, resources) {
        return callback();
      });
    };

    Assets.prototype.getVegetationSprite = function(type) {
      return this.getSprite("vegetation_" + type);
    };

    Assets.prototype.getFloraSprite = function(type) {
      return this.getSprite(type);
    };

    Assets.prototype.getFaunaSprite = function(type) {
      return this.getSprite(type);
    };

    Assets.prototype.getPawnSprite = function(type, id) {
      var pawn;
      if (id != null) {
        pawn = this.pawns.getPawn(id);
        if (pawn != null) {
          return pawn;
        }
      }
      return this.getSprite(type);
    };

    Assets.prototype.returnSprite = function(sprite) {
      var image;
      if (sprite.interactive === false) {
        image = sprite.texture.baseTexture.imageUrl;
        if (image != null) {
          return this.pool.returnSprite(image, sprite);
        }
      }
    };

    Assets.prototype.getSprite = function(type) {
      var image;
      image = this.assets[type];
      if (image != null) {
        return this.pool.getSprite(image);
      } else {
        return console.log("ERROR: unkown type: " + type);
      }
    };

    return Assets;

  })();

}).call(this);
