// Generated by CoffeeScript 1.9.2
(function() {
  var bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

  Game.Stage = (function() {
    function Stage(element_id) {
      this.create = bind(this.create, this);
      this.update = bind(this.update, this);
      this.resolution = window.devicePixelRatio;
      this.element = document.getElementById(element_id);
      this.stage = new PIXI.Container();
      this.renderer = PIXI.autoDetectRenderer(this.element.width, this.element.height, {
        view: this.element,
        resolution: this.resolution,
        antialias: true
      });
      this.renderer.backgroundColor = 0x454545;
      this.map = new Game.Map(this.stage, {
        width: this.element.width / this.resolution,
        height: this.element.height / this.resolution,
        fieldSize: 55
      });
    }

    Stage.prototype.update = function() {
      this.renderer.render(this.stage);
      return requestAnimationFrame(this.update);
    };

    Stage.prototype.create = function() {
      return this.map.create();
    };

    return Stage;

  })();

}).call(this);
